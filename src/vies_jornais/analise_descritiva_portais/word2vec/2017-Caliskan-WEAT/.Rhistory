checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = all_true_a && all_true_b && all_true_x && all_true_y
return(all_true)
}
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
all_true = (all_true_a && all_true_b) && (all_true_x && all_true_y)
all_true
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = (all_true_a && all_true_b) && (all_true_x && all_true_y)
return(all_true)
}
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constanteeeeee", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
ok_a %>% distinct(palavras_do_modelo)
ok_b %>% distinct(palavras_do_modelo)
modelo_contem_palavra(features, targets, we_folha_comentarios)
modelo = we_folha_comentarios
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_a
ok_b
ok_x
ok_y
all_true_a = (ok_a %>% distinct(palavras_do_modelo) == T)
all_true_a
if(!all_true_a){
print(ok_a)
}
all_true_a
ok_a %>% distinct(palavras_do_modelo)
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
all_true_a
if(!all_true_a){
print(ok_a)
}
if(!all_true_a){
print(ok_a)
}
all_true_a
ok_a
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
modelo_contem_palavra <- function(features, targets, modelo){
modelo = we_folha_comentarios
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constanteaaaaaa", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
modelo_contem_palavra(features, targets, we_estadao_noticias)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
score_targets(targets, features, we_estadao_noticias)
effect_size(targets, features, we_estadao_noticias)
score_targets(targets, features, we_folha_noticias)
effect_size(targets, features, we_folha_noticias)
score_targets(targets, features, we_folha_comentarios)
effect_size(targets, features, we_folha_comentarios)
modelo_contem_palavra(features, targets, we_folha_comentarios)
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
score_targets(targets, features, we_folha_comentarios)
effect_size(targets, features, we_folha_comentarios)
x = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
y = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
a = c("carinho", "liberdade", "saúde", "amor", "paz", "alegria", "fiel", "prazer", "gentil", "honesto", "sorte", "diploma", "presente", "honra", "família", "feliz", "férias")
b = c("abuso", "quebra", "sujeira", "doença", "acidente", "morte", "sofrimento", "assalto", "desastre", "ódio", "tragédia", "cadeia", "pobreza", "feio", "câncer", "morte", "prisão")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
score_targets(targets, features, we_estadao_noticias)
effect_size(targets, features, we_estadao_noticias)
score_targets(targets, features, we_folha_noticias)
effect_size(targets, features, we_folha_noticias)
score_targets(targets, features, we_folha_comentarios)
effect_size(targets, features, we_folha_comentarios)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
print(all_true_a)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
print(all_true_b)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
modelo_contem_palavra(features, targets, we_folha_noticias)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constanteeeee", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistênciaeaaeaeaeeaa")
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistênciaeaaeaeaeeaa")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passageeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistênciaaaaa")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
print(contem)
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
knitr::opts_chunk$set(echo = TRUE)
library("dplyr")
library("wordVectors")
source("weat.R")
we_estadao_noticias = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/eleicoes_2014_estadao.bin")
we_folha_noticias = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/eleicoes_2014_folha.bin")
we_folha_comentarios = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/folha_comentarios_eleicao_2014.bin")
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
print(contem)
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
x = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
y = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
a = c("carinho", "liberdade", "saúde", "amor", "paz", "alegria", "fiel", "prazer", "gentil", "honesto", "sorte", "diploma", "presente", "honra", "família", "feliz", "férias")
b = c("abuso", "quebra", "sujeira", "doença", "acidente", "morte", "sofrimento", "assalto", "desastre", "ódio", "tragédia", "cadeia", "pobreza", "feio", "câncer", "morte", "prisão")
# x, y = target, a, b = atributo
# divisao por partidos
x = c("pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
y = c("sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
a = c("dilma", "rousseff", "lula", "pt")
b = c("aécio", "neves", "fhc", "psdb")
x = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
y = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistênciaaaaa")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
modelo = we_estadao_noticias
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_a
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_b
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_x
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
ok_y
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
all_true_a
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% length() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
all_true_b
ok_b %>% distinct(palavras_do_modelo) %>% length() == 1
ok_b %>% distinct(palavras_do_modelo) %>% length()
ok_b %>% distinct(palavras_do_modelo)
ok_b %>% distinct(palavras_do_modelo) %>% n()
ok_b %>% distinct(palavras_do_modelo) %>% nrow() == 1
modelo_contem_palavra <- function(features, targets, modelo){
checa_palavra_em_modelo <- function(w, modelo){
wv = modelo[[w]]
contem = (is.nan(wv[1,1]) == F) #se vetor contem nan, entao nao existe a palavra no modelo
return(contem)
}
ok_a = features %>% group_by(get("A")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("A"), modelo))
ok_b = features %>% group_by(get("B")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("B"), modelo))
ok_x = targets %>% group_by(get("X")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("X"), modelo))
ok_y = targets %>% group_by(get("Y")) %>% summarise(palavras_do_modelo = checa_palavra_em_modelo(get("Y"), modelo))
all_true_a = (ok_a %>% distinct(palavras_do_modelo) %>% nrow() == 1 && ok_a %>% distinct(palavras_do_modelo) == T)
if(!all_true_a){
print(ok_a)
}
all_true_b = (ok_b %>% distinct(palavras_do_modelo) %>% nrow() == 1 && ok_b %>% distinct(palavras_do_modelo) == T)
if(!all_true_b){
print(ok_b)
}
all_true_x = (ok_x %>% distinct(palavras_do_modelo) %>% nrow() == 1 && ok_x %>% distinct(palavras_do_modelo) == T)
if(!all_true_x){
print(ok_x)
}
all_true_y = (ok_y %>% distinct(palavras_do_modelo) %>% nrow() == 1 && ok_y %>% distinct(palavras_do_modelo) == T)
if(!all_true_y){
print(ok_y)
}
all_true = ((all_true_a && all_true_b) && (all_true_x && all_true_y))
return(all_true)
}
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passageeeeeem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
x = c("dilma", "rousseff", "lula", "pt")
y = c("aécio", "neves", "fhc", "psdb")
a = c("instável", "variável", "curto", "breve", "passagem")
b = c("estável", "sempre", "longo", "constante", "persistência")
targets = data_frame(X = x, Y = y)
features = data_frame(A = a, B = b)
modelo_contem_palavra(features, targets, we_estadao_noticias)
modelo_contem_palavra(features, targets, we_folha_noticias)
modelo_contem_palavra(features, targets, we_folha_comentarios)
