tables = list(x = x, y = y)
s = score(tables, dif_sim_table)
tables
table = list(Xi = x, Yi = y)
table
s = score(table, dif_sim_table)
table = list(Xi = data_frame(x), Yi = data_frame(y))
s = score(table, dif_sim_table)
s
table = list(Xi = data_frame(x = x), Yi = data_frame(y = y))
table
table = list(Xi = data_frame(x) %>% t(), Yi = data_frame(y) %>% t())
table
s = score(table, dif_sim_table)
data_frame(x) %>% t()
x %>% t()
data_frame(x %>% t())
x %>% t()
x %>% t() %>% as_data_frame()
Xi = x %>% t() %>% as_data_frame()
Yi = y %>% t() %>% as_data_frame()
table = list(Xi = Xi, Yi = Yi)
table = list(Xi = Xi, Yi = Yi)
table
s = score(table, dif_sim_table)
s
View(scores_permutacao)
0.0408939241
0.04089392
38/252
View(s)
X = x %>% t() %>% as_data_frame()
Y = y %>% t() %>% as_data_frame()
table = list(Xi = X, Yi = Y)
score_x_y = score(table, dif_sim_table)
score_x_y
tbl = data_frame(value = scores_permutacao$score > score_x_y$score)
tbl
n_true = tbl %>% filter(value == T) %>% summarise(cont = n()-1) %>% as.numeric()
n_true
n_total = nrow(tbl)
n_total
n_true/n_total
n_true = tbl %>% filter(value == T) %>% summarise(cont = n()) %>% as.numeric()
n_total = nrow(tbl)
n_true/n_total
View(scores_permutacao)
score_x_y$score
scores_permutacao$score > score_x_y$score
table(scores_permutacao$score > score_x_y$score)
scores_permutacao$score
View(scores_permutacao)
q = scores_permutacao[scores_permutacao$score > score_x_y$score]
q = scores_permutacao[scores_permutacao$score > score_x_y$score,]
View(q)
score_x_y$score
View(q)
pvalor <- function(x, y, scores_permutacao, dif_sim_table){
X = x %>% t() %>% as_data_frame()
Y = y %>% t() %>% as_data_frame()
table = list(Xi = X, Yi = Y)
score_x_y = score(table, dif_sim_table)
tbl = data_frame(value = scores_permutacao$score > score_x_y$score)
n_true = tbl %>% filter(value == T) %>% summarise(cont = n()-1) %>% as.numeric() #menos 1 porque uma das linhas do denominador tera o mesmo valor que score_x_y$score
n_total = nrow(tbl)
return(n_true/n_total)
}
library(wordVectors)
folha_up = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_up.bin")
folha_up = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_up.bin")
folha_down = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_down.bin")
folha_up_down = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_up_down.bin")
library("dplyr")
library("wordVectors")
library("partitions")
library("gtools")
library("purrr")
cosSim_model <- function(w1, w2, modelo){
cosineSimilarity(modelo[[w1]],modelo[[w2]]) %>% as.numeric()
}
create_cosine_metrics <- function(x, y, a, b, modelo){ #tabela de diferenca de similaridades das palavras de x e y para os conjuntos a e b
targets = c(x, y)
features = c(a, b)
pares = expand.grid(target = targets, feature = features)
pares$target = pares$target %>% as.character()
pares$feature = pares$feature %>% as.character()
pares = pares %>%
rowwise() %>%
mutate(cos_sim = cosSim_model(target, feature, modelo))
targets_a = pares %>% filter(feature %in% a)
targets_b = pares %>% filter(feature %in% b)
w_sim_a = targets_a %>% group_by(target) %>% summarise(mean_cos = mean(cos_sim)) %>% arrange(target)
w_sim_b = targets_b %>% group_by(target) %>% summarise(mean_cos = mean(cos_sim)) %>% arrange(target)
w_dif_a_b = bind_cols(w_sim_a %>% select(target), #poderia usar w_sim_b. as duas terao a mesma ordem
(w_sim_a %>% select(mean_cos) -
w_sim_b %>% select(mean_cos)))
w_dif_a_b = w_dif_a_b %>% rename(mean_dif_cos = mean_cos)
return(list(dif_sim_table = w_dif_a_b, w_cos_dist = pares))
}
permutacao <- function(x, y){
remove_repeated_sets = function(Xi, Yi){
duplicados = duplicated(Yi)
Xi = Xi[!duplicados,]
Yi = Yi[!duplicados,]
return(list(Xi = Xi, Yi = Yi))
}
all_targets = c(x,y)
n = length(all_targets)
Xi = permutations(n=n, r=n/2, v=all_targets) %>% as.data.frame()
colnames(Xi) = paste("X",colnames(Xi),sep = "")
Yi = Xi %>% apply(1, FUN=function(x){
setdiff(all_targets, x)
}) %>% t() %>% as.data.frame()
colnames(Yi) = paste("Y",colnames(Yi),sep = "")
return(remove_repeated_sets(Xi, Yi))
}
score <- function(tables, dif_sim_table){
sum_w_sim = function(words_set, dif_sim_table){
dif_sim_table %>% filter(target %in% words_set) %>% summarise(sum_sim = sum(mean_dif_cos)) %>% as.numeric()
}
score_Xi = tables$Xi %>% apply(1, sum_w_sim, dif_sim_table)
score_Yi = tables$Yi %>% apply(1, sum_w_sim, dif_sim_table)
score_Xi_Yi = score_Xi - score_Yi
return(bind_cols(tables$Xi, tables$Yi, score = score_Xi_Yi))
}
pvalor <- function(x, y, scores_permutacao, dif_sim_table){
X = x %>% t() %>% as_data_frame()
Y = y %>% t() %>% as_data_frame()
table = list(Xi = X, Yi = Y)
score_x_y = score(table, dif_sim_table)
tbl = data_frame(value = scores_permutacao$score > score_x_y$score)
n_true = tbl %>% filter(value == T) %>% summarise(cont = n()-1) %>% as.numeric() #menos 1 porque uma das linhas do denominador tera o mesmo valor que score_x_y$score
n_total = nrow(tbl)
return(n_true/n_total)
}
effect_size <- function(x, y, dif_sim_table){
x_mean = dif_sim_table %>% filter(target %in% x) %>% summarise(mean_dif = mean(mean_dif_cos)) %>% as.numeric()
y_mean = dif_sim_table %>% filter(target %in% y) %>% summarise(mean_dif = mean(mean_dif_cos)) %>% as.numeric()
w_sd = dif_sim_table %>% summarise(sd = sd(mean_dif_cos)) %>% as.numeric()
return((x_mean - y_mean)/w_sd)
}
wefat <- function(dif_sim_table, w_cos_dist){
dif_sim_table = dif_sim_table %>% arrange(target)
w_sd = w_cos_dist %>% group_by(target) %>% summarise(sd = sd(cos_sim)) %>% arrange(target)
w_wefat = bind_cols(dif_sim_table %>% select(target),
dif_sim_table %>% select(mean_dif_cos)/
w_sd %>% select(sd))
return(w_wefat)
}
x = c("aécio", "neves", "fhc", "psdb", "aloysio")
y = c("dilma", "rousseff", "lula", "pt", "temer")
a = c("carinho", "liberdade", "saúde", "amor", "paz", "alegria", "fiel", "honesto", "sorte", "diploma", "presente", "honra", "família", "feliz", "férias")
b = c("abuso", "quebra", "doença", "acidente", "sofrimento", "assalto", "desastre", "ódio", "tragédia", "cadeia", "pobreza", "feio", "câncer", "morte", "prisão")
permutacao_table = permutacao(x, y)
cosine_metrics = create_cosine_metrics(x, y, a, b, folha_up_down)
dif_sim_table = cosine_metrics$dif_sim_table
w_cos_dist = cosine_metrics$w_cos_dist
scores_permutacao = score(permutacao_table, dif_sim_table)
tam_efeito = effect_size(x, y, dif_sim_table)
pvalor = p_valor(x, y, scores_permutacao, dif_sim_table)
w_wefat = wefat(dif_sim_table, w_cos_dist)
p_valor = pvalor(x, y, scores_permutacao, dif_sim_table)
w_wefat = wefat(dif_sim_table, w_cos_dist)
permutacao_table = permutacao(x, y)
cosine_metrics = create_cosine_metrics(x, y, a, b, folha_up_down)
dif_sim_table = cosine_metrics$dif_sim_table
w_cos_dist = cosine_metrics$w_cos_dist
scores_permutacao = score(permutacao_table, dif_sim_table)
tam_efeito = effect_size(x, y, dif_sim_table)
p_valor = pvalor(x, y, scores_permutacao, dif_sim_table)
w_wefat = wefat(dif_sim_table, w_cos_dist)
w_wefat
p_valor
tam_efeito
scores_permutacao
w_cos_dist
dif_sim_table
cosine_metrics
permutacao_table
x = c("dilma", "genro", "marina", "marta", "erundina", "rosário")
y = c("aécio", "lula", "fhc", "cunha", "temer", "bolsonaro")
a = c("pt", "psb", "psd", "pdt", "pps", "pcdob", "psol")
b = c("pp", "pr", "prb", "pros", "phs", "pen", "dem")
permutacao_table = permutacao(x, y)
cosine_metrics = create_cosine_metrics(x, y, a, b, folha_up_down)
dif_sim_table = cosine_metrics$dif_sim_table
w_cos_dist = cosine_metrics$w_cos_dist
scores_permutacao = score(permutacao_table, dif_sim_table)
tam_efeito = effect_size(x, y, dif_sim_table)
p_valor = pvalor(x, y, scores_permutacao, dif_sim_table)
w_wefat = wefat(dif_sim_table, w_cos_dist)
w_wefat
p_valor
tam_efeito
scores_permutacao
w_cos_dist
dif_sim_table
cosine_metrics
knitr::opts_chunk$set(echo = TRUE)
library("dplyr")
library("wordVectors")
source("weat.R")
we_folha_comentarios = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/folha_comentarios_eleicao_2014.bin")
we_folha_noticias = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/eleicoes_2014_folha.bin")
knitr::opts_chunk$set(echo = TRUE)
source("../2017-Caliskan-WEAT/weat.R")
library(wordVectors)
#estadao_up = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/estadao_thumbs_up.bin")
folha_up = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_up.bin")
folha_down = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_down.bin")
folha_up_down = read.binary.vectors("../word_embeddings/vieses_em_comentarios/embeddings/folha_thumbs_up_down.bin")
execute <- function(x, y, a, b, permutacoes, modelo){
organize_input = function(x, y){
X = x %>% t() %>% as_data_frame()
Y = y %>% t() %>% as_data_frame()
table = list(Xi = X, Yi = Y)
}
cosine_metrics = create_cosine_metrics(x, y, a, b, modelo)
dif_sim_table = cosine_metrics$dif_sim_table
entrada_x_y = organize_input(x, y)
score_x_y = score(entrada_x_y, dif_sim_table)
scores_permutacao = score(permutacoes, dif_sim_table) %>% arrange(-score)
p_valor = pvalor(scores_permutacao, score_x_y)
tam_efeito = effect_size(x, y, dif_sim_table)
valores = data_frame(p_valor, tam_efeito)
return(list(valores = valores, scores_permutacao = scores_permutacao, score_X_Y = score_x_y))
}
checa_vies <- function(x, y, a, b, permutacoes, modelo){
contem = modelo_contem_palavra(x, y, a, b, modelo)
if(contem){
resultados_vies = execute(x, y, a, b, permutacoes, modelo)
return(resultados_vies)
}
}
knitr::opts_chunk$set(echo = TRUE)
library("dplyr")
library("wordVectors")
source("weat.R")
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
b = c("sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
permutacoes_cand_colig = permutacao(x, y)
vies_folha_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_folha_noticias)
we_estadao_noticias = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/estadao_noticias_eleicao_2014.bin")
we_folha_noticias = read.binary.vectors("../word_embeddings/eleicoes_2014/embeddings/folha_noticias_eleicao_2014.bin")
execute <- function(x, y, a, b, permutacoes, modelo){
organize_input = function(x, y){
X = x %>% t() %>% as_data_frame()
Y = y %>% t() %>% as_data_frame()
table = list(Xi = X, Yi = Y)
}
cosine_metrics = create_cosine_metrics(x, y, a, b, modelo)
dif_sim_table = cosine_metrics$dif_sim_table
entrada_x_y = organize_input(x, y)
score_x_y = score(entrada_x_y, dif_sim_table)
scores_permutacao = score(permutacoes, dif_sim_table) %>% arrange(-score)
p_valor = pvalor(scores_permutacao, score_x_y)
tam_efeito = effect_size(x, y, dif_sim_table)
valores = data_frame(p_valor, tam_efeito)
return(list(valores = valores, scores_permutacao = scores_permutacao, score_X_Y = score_x_y))
}
checa_vies <- function(x, y, a, b, permutacoes, modelo){
contem = modelo_contem_palavra(x, y, a, b, modelo)
if(contem){
resultados_vies = execute(x, y, a, b, permutacoes, modelo)
return(resultados_vies)
}
}
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
b = c("sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
permutacoes_cand_colig = permutacao(x, y)
vies_folha_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_folha_noticias)
vies_estadao_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_estadao_noticias)
vies_folha_cand_colig
x = c("dilma", "rousseff", "lula", "temer", "michel")
y = c("aécio", "neves", "fhc", "aloysio", "nunes")
a = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob", "aec")
b = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb", "ptdob")
permutacoes_cand_colig = permutacao(x, y)
vies_folha_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_folha_noticias)
vies_estadao_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_estadao_noticias)
x = c("dilma", "rousseff", "lula", "temer", "michel")
y = c("aécio", "neves", "fhc", "aloysio", "nunes")
a = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob", "aec")
b = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb", "ptdob")
permutacoes_cand_colig = permutacao(x, y)
folha_up_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_up)
folha_down_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_down)
folha_up_down_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_up_down)
folha_up_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_up)
vies_estadao_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_estadao_noticias)
folha_up_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_up)
folha_down_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_down)
folha_up_down_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, folha_up_down)
x = c("dilma", "rousseff", "lula", "temer", "michel")
y = c("aécio", "neves", "fhc", "aloysio", "nunes")
a = c("pt", "pmdb", "psd", "pp", "pr", "pdt", "pros", "pcdob")
b = c("psdb", "sd", "pmn", "pen", "ptn", "ptc", "dem", "ptb")
permutacoes_cand_colig = permutacao(x, y)
vies_folha_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_folha_noticias)
vies_estadao_cand_colig = checa_vies(x, y, a, b, permutacoes_cand_colig, we_estadao_noticias)
vies_folha_cand_colig
vies_estadao_cand_colig
vies_folha_cand_colig
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("estável", "sempre", "constante", "persistente", "crônico", "prolongado", "eternamente")
b = c("impermantente", "instável", "variável", "fugaz", "curto", "breve", "ocasional")
permutacoes_cand_tempo = permutacao(x, y)
vies_folha_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, we_folha_noticias)
vies_estadao_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, we_estadao_noticias)
vies_folha_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, we_folha_noticias)
vies_estadao_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, we_estadao_noticias)
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("estável", "sempre", "constante", "persistente", "crônico", "prolongado", "eternamente")
b = c("impermantente", "instável", "variável", "fugaz", "curto", "breve", "ocasional")
permutacoes_cand_tempo = permutacao(x, y)
folha_up_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, folha_up)
folha_down_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, folha_down)
folha_up_down_cand_tempo = checa_vies(x, y, a, b, permutacoes_cand_tempo, folha_up_down)
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("carinho", "liberdade", "saúde", "amor", "paz", "alegria", "fiel", "honesto", "sorte", "diploma", "presente", "honra", "família", "feliz", "férias")
b = c("abuso", "quebra", "doença", "acidente", "sofrimento", "assalto", "desastre", "ódio", "tragédia", "cadeia", "pobreza", "feio", "câncer", "morte", "prisão")
a
b
permutacoes_cand_prazer = permutacao(x, y)
permutacoes_cand_prazer
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
vies_estadao_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_estadao_noticias)
vies_folha_cand_prazer
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
#a = c("carinho", "liberdade", "saúde", "amor", "paz", "alegria", "fiel", "honesto", "sorte", "diploma", "presente", "honra", "família", "feliz", "férias")
#b = c("abuso", "quebra", "doença", "acidente", "sofrimento", "assalto", "desastre", "ódio", "tragédia", "cadeia", "pobreza", "feio", "câncer", "morte", "prisão")
a = c("carícia", "liberdade", "saúde", "amor", "paz", "alegria", "amigo", "paraíso", "leal", "prazer", "diamante", "gentil", "honesto", "sorte", "arco-íris", "diploma", "presente", "honra", "milagre", "família", "felicidade", "risada", "céu", "férias")
b = c("abuso","quebra","sujeira","assassinato","doença","acidemte","morte","tristeza","veneno","fedor","assalto","disastre","ódio","poluição","tragédia","bomba","divórcio","cadéia","pobreza","feio","câncer","maldade","matar","podre","vômito")
permutacoes_cand_prazer = permutacao(x, y)
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
a = c("carícia", "liberdade", "saúde", "amor", "paz", "alegria", "amigo", "paraíso", "leal", "prazer", "diamante", "gentil", "honesto", "sorte", "arco-íris", "diploma", "presente", "honra", "milagre", "família", "felicidade", "risada", "céu", "férias","aeeaeaeaeaea")
b = c("abuso","quebra","sujeira","assassinato","doença","acidemte","morte","tristeza","veneno","fedor","assalto","disastre","ódio","poluição","tragédia","bomba","divórcio","cadéia","pobreza","feio","câncer","maldade","matar","podre","vômito")
permutacoes_cand_prazer = permutacao(x, y)
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
a = c("carícia", "liberdade", "saúde", "amor", "paz", "alegria", "amigo", "paraíso", "leal", "prazer", "diamante", "gentil", "honesto", "sorte", "arcoíris", "diploma", "presente", "honra", "milagre", "família", "felicidade", "risada", "céu", "férias","aeeaeaeaeaea")
b = c("abuso","quebra","sujeira","assassinato","doença","acidemte","morte","tristeza","veneno","fedor","assalto","disastre","ódio","poluição","tragédia","bomba","divórcio","cadéia","pobreza","feio","câncer","maldade","matar","podre","vômito")
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
vies_folha_cand_prazer
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
b = c("abuso","quebra","sujeira","assassinato","doença","acidente","morte","tristeza","veneno","fedor","assalto","disastre","ódio","poluição","tragédia","bomba","divórcio","cadéia","pobreza","feio","câncer","maldade","matar","podre","vômito")
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
b = c("abuso","quebra","sujeira","assassinato","doença","acidente","morte","tristeza","veneno","fedor","assalto","disastre","ódio","poluição","tragédia","bomba","divórcio","cadeia","pobreza","feio","câncer","maldade","matar","podre","vômito")
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
b = c("abuso","quebra","sujeira","assassinato","doença","acidente","morte","tristeza","veneno","fedor","assalto","desastre","ódio","poluição","tragédia","bomba","divórcio","cadeia","pobreza","feio","câncer","maldade","matar","podre","vômito")
vies_folha_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_folha_noticias)
vies_estadao_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_estadao_noticias)
a = c("carícia", "liberdade", "saúde", "amor", "paz", "alegria", "amigo", "paraíso", "leal", "prazer", "diamante", "gentil", "honesto", "sorte", "arcoíris", "diploma", "presente", "honra", "milagre", "família", "felicidade", "risada", "céu", "férias","aeeaeaeaeaea")
b = c("abuso","quebra","sujeira","assassinato","doença","acidente","morte","tristeza","veneno","fedor","assalto","desastre","ódio","poluição","tragédia","bomba","divórcio","cadeia","pobreza","feio","câncer","maldade","matar","podre","vômito")
vies_estadao_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, we_estadao_noticias)
x = c("dilma", "rousseff", "lula", "pt", "temer", "michel")
y = c("aécio", "neves", "fhc", "psdb", "aloysio", "nunes")
a = c("carícia", "liberdade", "saúde", "amor", "paz", "alegria", "amigo", "paraíso", "leal", "prazer", "diamante", "gentil", "honesto", "sorte", "arcoíris", "diploma", "presente", "honra", "milagre", "família", "felicidade", "risada", "céu", "férias","aeeaeaeaeaea")
b = c("abuso","quebra","sujeira","assassinato","doença","acidente","morte","tristeza","veneno","fedor","assalto","desastre","ódio","poluição","tragédia","bomba","divórcio","cadeia","pobreza","feio","câncer","maldade","matar","podre","vômito")
permutacoes_cand_prazer = permutacao(x, y)
folha_up_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, folha_up)
folha_down_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, folha_down)
folha_up_down_cand_prazer = checa_vies(x, y, a, b, permutacoes_cand_prazer, folha_up_down)
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("dilma", "rousseff", "luciana", "genro", "marina", "silva")
b = c("aécio", "neves", "eduardo", "jorge", "levy", "fidelix")
permutacoes_gen_pos_1 = permutacao(x, y)
vies_folha_gen_pos_1 = checa_vies(x, y, a, b, permutacoes_gen_pos_1, we_folha_noticias)
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("dilma", "rousseff", "luciana", "genro", "marina", "silva")
b = c("aécio", "neves", "eduardo", "jorge", "levy", "fidelix")
permutacoes_gen_pos_1 = permutacao(x, y)
vies_folha_gen_pos_1 = checa_vies(x, y, a, b, permutacoes_gen_pos_1, we_folha_noticias)
vies_estadao_gen_pos_1 = checa_vies(x, y, a, b, permutacoes_gen_pos_1, we_estadao_noticias)
```{r, warning=FALSE}
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("mulher", "mãe", "avó", "filha", "dona", "senhora")
b = c("homem", "pai", "avô", "filho", "dono", "senhor")
permutacoes_gen_pos_2 = permutacao(x, y)
vies_folha_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_folha_noticias)
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("mulher", "mãe", "avó", "filha", "dona", "senhora","patroa","esposa","proprietária")
b = c("homem", "pai", "avô", "filho", "dono", "senhor","patrão","marido","proprietário")
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("mulher", "mãe", "avó", "filha", "dona", "senhora","patroa","esposa","proprietária")
b = c("homem", "pai", "avô", "filho", "dono", "senhor","patrão","marido","proprietário")
permutacoes_gen_pos_2 = permutacao(x, y)
vies_folha_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_folha_noticias)
vies_estadao_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_estadao_noticias)
vies_folha_gen_pos_2
vies_folha_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_folha_noticias)
vies_estadao_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_estadao_noticias)
a = c("mulher", "mãe", "avó", "filha", "dona", "senhora","esposa")
b = c("homem", "pai", "avô", "filho", "dono", "senhor","marido")
permutacoes_gen_pos_2 = permutacao(x, y)
vies_folha_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_folha_noticias)
vies_estadao_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, we_estadao_noticias)
vies_folha_gen_pos_2
vies_estadao_gen_pos_2
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob","psol")
y = c("pp", "prb", "pros", "prtb", "phs", "pen", "dem")
a = c("mulher", "mãe", "avó", "filha", "dona", "senhora","esposa")
b = c("homem", "pai", "avô", "filho", "dono", "senhor","marido")
permutacoes_gen_pos_2 = permutacao(x, y)
folha_up_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, folha_up)
folha_down_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, folha_down)
folha_up_down_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, folha_up_down)
folha_down_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, folha_down)
folha_up_gen_pos_2 = checa_vies(x, y, a, b, permutacoes_gen_pos_2, folha_up)
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob", "psol")
y = c("pp", "pr", "prb", "pros", "phs", "pen", "dem")
a = c("dilma", "genro", "marina", "marta", "erundina", "rosário")
b = c("aécio", "lula", "fhc", "cunha", "temer", "bolsonaro")
permutacoes_genero_orientacao_1 = permutacao(x, y)
vies_folha_up_genero_orientacao_1 = checa_vies(x, y, a, b, permutacoes_genero_orientacao_1, folha_up)
x = c("pt", "psb", "psd", "pdt", "pps", "pcdob", "psol")
y = c("pp", "pr", "prb", "pros", "phs", "pen", "dem")
a = c("pobreza", "miséria", "indigência", "inópia", "humildade", "dificuldade", "subdesenvolvimento", "desgraça", "fome", "dureza")
b = c("riqueza", "recursos", "capital", "patrimônio", "fortuna", "dinheiro", "ouro", "posses", "herança", "bens")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
vies_folha_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_down)
vies_folha_up_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up_down)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "indigência", "inópia", "humildade", "dificuldade", "subdesenvolvimento", "desgraça", "fome", "dureza")
b = c("riqueza", "recursos", "capital", "patrimônio", "fortuna", "dinheiro", "ouro", "posses", "herança", "bens")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "inópia", "dificuldade", "desgraça", "fome")
b = c("riqueza", "recursos", "patrimônio", "fortuna", "dinheiro", "posses")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "inópia", "dificuldade", "desgraça", "fome")
b = c("riqueza", "recursos", "patrimônio", "fortuna", "dinheiro", "bens")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "indigência", "inópia", "humildade", "dificuldade", "subdesenvolvimento", "desgraça", "fome", "dureza")
b = c("riqueza", "recursos", "capital", "patrimônio", "fortuna", "dinheiro", "ouro", "posses", "herança", "bens")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "humildade", "dificuldade", "desgraça", "fome")
b = c("riqueza", "recursos", "capital", "patrimônio", "fortuna", "dinheiro")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
vies_folha_up_economia_orientacao
vies_folha_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_down)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "humildade", "dificuldade", "fome")
b = c("recursos", "capital", "patrimônio", "fortuna", "dinheiro")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
vies_folha_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_down)
vies_folha_up_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up_down)
vies_folha_up_economia_orientacao
vies_folha_down_economia_orientacao
vies_folha_up_down_economia_orientacao
vies_folha_down_economia_orientacao
vies_folha_up_down_economia_orientacao
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_folha_noticias)
vies_estadao_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_estadao_noticias)
vies_folha_economia_orientacao
vies_folha_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_folha_noticias)
vies_estadao_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_estadao_noticias)
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "dificuldade", "fome")
b = c("recursos", "capital", "patrimônio", "dinheiro")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_folha_noticias)
vies_estadao_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, we_estadao_noticias)
vies_folha_economia_orientacao
vies_estadao_economia_orientacao
vies_estadao_economia_orientacao
vies_folha_economia_orientacao
x = c("dilma", "rousseff", "lula", "pt", "temer")
y = c("aécio", "neves", "fhc", "psdb", "nunes")
a = c("pobreza", "miséria", "dificuldade", "fome")
b = c("recursos", "capital", "patrimônio", "dinheiro")
permutacoes_economia_orientacao = permutacao(x, y)
vies_folha_up_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up)
vies_folha_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_down)
vies_folha_up_down_economia_orientacao = checa_vies(x, y, a, b, permutacoes_economia_orientacao, folha_up_down)
vies_folha_up_economia_orientacao
vies_folha_down_economia_orientacao
vies_folha_up_down_economia_orientacao
vies_folha_down_economia_orientacao
164*3
